<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start" class="ion-hide-sm-down_">
      <ion-button color="dark" class="ion-hide-sm-down"> {{'Posting period category' | translate}} </ion-button>
    </ion-buttons>
    <ion-buttons slot="primary">
      <ion-button title="{{'Close' | translate}}" color="secondary" (click)="closeModal()">
        <ion-icon slot="icon-only" name="close"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<ion-content appScrollbarTheme class="ion-padding" fullscreen>
  <form [formGroup]="formGroup">
    <ion-grid fixed>
      <ion-row>
        <ion-col>
          <div class="c-control">
            <label class="c-label"> {{'Fiscal year' | translate}} </label>
            <select
              class="c-input c-dropdown"
              formControlName="FinancialYear"
              (change)="changeFinancialYear()"
            >
              <option *ngFor="let t of financialYearList" [value]="t.Code">{{t.Name}}</option>
            </select>
          </div>
          <div class="c-control">
            <label class="c-label"> {{'Start of Fiscal Year' | translate}} </label>
            <input class="c-input" type="date" [min]="minFinancialYearFirstDate"  [max]="maxFinancialYearFirstDate" (change)="changeFinancialYearFirstDate()" formControlName="FinancialYearFirstDate">
          </div>
         
          <!-- <app-form-control
          [field]="{id:'FinancialYearFirstDate', label: 'Start of Fiscal Year', type : 'date', placeholder: 'yyyy-MM-dd', form : formGroup }" (change)="changeFinancialYearFirstDate()"
        >
        </app-form-control> -->

        <app-form-control
          [field]="{id:'Code', label: 'Period code', type : 'text', form : formGroup }"
        >
        </app-form-control>

        <app-form-control
          [field]="{id:'Name', label: 'Period name', type : 'text', form : formGroup }"
        >
        </app-form-control>

        <app-form-control
          [field]="{id:'PostingPeriodType', label: 'Sub-Period', type : 'select', form : formGroup,  dataSource: periodTypeDataSource,  bindLabel: 'Name',  bindValue: 'Code' }"
          (change)="changePostingPeriodType()"
        >
        </app-form-control>

        <app-form-control
          [field]="{id:'NumberOfPeriods', label: 'No. of period', type : 'span-number', form : formGroup }"
        >
        </app-form-control>

          <div class="c-control ion-text-right">
            <ion-button
              *ngIf="pageConfig.canAdd"
              (click)="saveChange()"
              [disabled]="!formGroup.valid"
              >{{'Add' | translate}}</ion-button
            >
            <ion-button (click)="closeModal()" color="warning">{{'Cancel' | translate}}</ion-button>
          </div>
        </ion-col>
      </ion-row>
    </ion-grid>
  </form>
</ion-content>
